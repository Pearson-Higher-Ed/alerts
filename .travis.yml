language: node_js
sudo: false
node_js:
- 4
- 6
addons:
  sonarcloud:
    organization: "PDA.Alerts"
    token:
      secure: Qc4DLc6T9/51Y4inBD2MRFj7Hd6mz3ndadkZ2dBUSyNOXgnsR+1UsYcQp3mdR0KI2AKHS22IuYbF8PNnGpZqFJvLO0O/pmE/hj8Eo4wYaU9PyFA7+9sa6zNIFb3KGYtDRuGhg+c/Fvq1VFlGMvOQFHxNgW6YSOd9ITf1RSuo6cOXAI4FdOgM9Zi/IGebWGQcXyrcnnUNa2ubL0foIfetd1giEA3lrpGmtIQOdDlM9wU1PyDHRmzVwL3j/q2DkOiqjEXuf3g5JQsqFXy7Ftmb3CWeBQvo+AB+lcr+2+75EMHPjRuVtndnm6eHk1U9y6dLE76qmOnEU8jpyG4Uc40Idyn4DhZ7BPBaA45xb8sPF6UoRiBxOuimXjgyv45jAtxSN1U64HT+5S7pmxHllf+2zQNInPLO0qB8fT5ge0XfNV4SMp479VrISHh8bY/hcUEgEZJtBUEfPzndPD02EqPa0OAT6J1lm1xJ6AKxdcfPhxB2ghqFTNOHPAXCR4BQh88/6K9RFf7DrkCN/9wK1PEPCV+npGo3FSx8FjrYR2R0cjGDWxBUWxJQMy6cyKD5KqIR+Ty/76Kf9cBMY0cBZDIZvLWHB43j6HHln0QoKpLkmlAI1m1pqjAPuiEj4DS3bLEzUKMRLQD2YNQ2WttgbCl6adlvwtn8SJUSUzPaEONIV3U=

script:
- npm run copy-utils
- npm run ci
- chmod 777 ./node_modules/@pearson-components/npm-scripts/shell_scripts/run_selenium_ci_tests.sh
- export TEST_GROUP=desktop-regression
- ./node_modules/@pearson-components/npm-scripts/shell_scripts/run_selenium_ci_tests.sh
- sonar-scanner
deploy:
  provider: npm
  email: pearson-design-accelerator@pearson.com
  api_key:
    secure: xHZRiP1BDJwgLZP/mnuvLTH9Sfbqsi2DSMc6NZUM+jqZp5wWF/2w1lINc8Oek7oRVTnsR1ErcxgB5UtHURv0KNXyFAl36Xd4GhfWbiQfEGbxM5P1xdWihyqzOUzrUZlOVkPnZMEHLYgheGivmrif4D/Yegzi4Wo++vGDUJvUlgwYI1FmDxIlyM4/BZhD24QNWt3HWs/PZASj8z8WRuyx6H759Xf0OoLcS2GNxnmablj3ACItg8mV7pBLp9gHG3I0j7P4iiWWM0Z0dGcl46xJqq45Owjsci92db+tEzVKQWL84KO92LtMCvhR4zc3E+kpmNBo4L7UwPiFUr4gea3ClcBBMtPHwnGVop6CPj0w9RS0Eh/EuP9QPBz2TSPmf8VuxWkLnOR3N1catWQLEXBVDhZ796wW6qixpimlx/9cvimRbJctIzlGtPXgONP4sWW4DO+BjuYVW8556d+lY77HAW8A7GTNi1W+KqMHgJN4CR7HNUjo3rLT7Fz8OVfUIcXkK8lH+BHiIa9et0fwGrmPJUFkBXj46C5lwrgB4tYhmiPVvq/Zo9l/TB4N7yd3Bllf0UKSx65Dvvlc/CFl/AXtvV/boiQSRGrLhatUcdKiPWU2DBysCMd4pw/53ya9O6f4hQUZZlLH0WDxyYKYAXk4Rj1dkkh7ANlD/bQosumtZo0=
  skip_cleanup: true
  on:
    branch: master
    tags: true
env:
  global:
  - secure: pKdcHkVZF5h9SmETILZtuJt1XsJmsSq1+yBCQ0+icCtX8f0ZTM0aUPUDH/myfEb3xAEHO72sDiJSnSsT8fg02yuBsz14OL/FNB3wHiL3UVnokOElcnvpSRSnx8VZwCNqM2+/L3uxROAcSGPxBe5lFfGovAcUhRp1a6+dFDGrXFWdHVe2ofbRZFBgfDoy9PEqlZjNndBCjq/t6r6bTgaj9waU5fwgjPkhfGT4lbGXa0mivWCt9Txgs1qfd2u+h9KAtM1R5571vbTga6TWK8pXq5iWWlJDExiX1DJPkQKeTWJ2NfYucNvykJ0OdoBYRWfpA2hVuLhCy3PCO3VmVKrMv2/KvzNSw0WofKYHu6aBo/BhNvunlHH9SWq0u2L0VcmoEmF3MNievxyM6TpPu3+Y5LFF/SNgyaxR6SyCtIy2pdBKj76ZvndzLgSrgH4tg1kOGshimo8upUgChOafueqzIiLiT7ixvm1i4ckUecVoUoaU3Etrwss53FZ9RY2apMuhuNXmEAXX6C30YzrREURjsnOinJb3Cb2ldKdZgOh9gkEMTxS1lZfWDqKIKYgH/rsK8mIli3j5iizNr3dxdbye7alHL2/wG7v3Qu0c23WHFDTAAMgNFlGHt132VBQUmn/OXb3xstWOJcRJBlLmVQP30GhijHNt/33qUIq5DnCKSUA=
