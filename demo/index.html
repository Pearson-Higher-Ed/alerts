<!doctype html>
<html lang="en">
<head>
    <title>Alerts Demo</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="elements.css">
</head>
<body>
    <h1>Alerts Demo</h1>
    <p>Styled using the Elements SDK.</p>
    <h4>Instance 1</h4>
    <div id="demo-target1"></div>

    <button onclick="buttonHandler('succes')">Success Alert!</button>
    <br />
    <br />
    <button onclick="buttonHandler('error')">Error Alert!</button>

    <script>
      function buttonHandler(type){
          // To trigger an alert... dispatch 'triggerAlert' with valid type and message
          document.body.dispatchEvent(new CustomEvent('triggerAlert', {
              "detail":{
                "alertType"   : type,
                "alertMessage": type + ' test message'
              }
          }));
        console.log(type + " alertTriggered!")
      }
    </script>

    <script>
      if (document.body.children[0].nodeName !== 'svg') {
        var pe_ajax = new XMLHttpRequest();
        pe_ajax.open("GET", "../node_modules/pearson-elements/dist/icons/p-icons-sprite-1.1.svg", true);
        pe_ajax.responseType = "document";
        pe_ajax.onload = function(e) {
          document.body.insertBefore(
            pe_ajax.responseXML.documentElement,
            document.body.childNodes[0]
          );
        }
        pe_ajax.send();
      }
    </script>

    <!-- External dependencies for React -->
    <script src="../node_modules/react/dist/react.js"></script>
    <script src="../node_modules/react-dom/dist/react-dom.js"></script>
    <!-- CustomEvent polyfill is for IE, Intl.js polyfill is for Safari -->
    <script src="https://cdn.polyfill.io/v2/polyfill.js?features=CustomEvent,Intl.~locale.en,Intl.~locale.fr"></script>
    <!-- Locally hosted demo server -->
    <script src="http://localhost:8081/webpack-dev-server.js"></script>
    <!-- Demo build of component -->
    <script src="../build/dev.alerts.js"></script>
</body>
</html>
